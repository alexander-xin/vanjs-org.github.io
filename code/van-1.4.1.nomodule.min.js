{let t,e,l,n,r,o,s,f,i,u,h,a,d,_,w,c,g,S,v,y,b,m,j,x;r=Object.getPrototypeOf,s={},f=r(o={isConnected:1}),i=r(r),u=(t,e,l,n)=>(t??(setTimeout(l,n),new Set)).add(e),h=(t,l,n)=>{let r=e;e=l;try{return t(n)}catch(t){return console.error(t),n}finally{e=r}},a=t=>t.filter(t=>t.t?.isConnected),d=t=>n=u(n,t,()=>{for(let t of n)t.l=a(t.l),t.o=a(t.o);n=null},1e3),_={get val(){return e?.i?.add(this),this.u},get oldVal(){return e?.i?.add(this),this.h},set val(l){if(e?._?.add(this),l!==this.u){this.u=l;let e=[...this.o=a(this.o)];for(let t of e)g(t.f,t.s,t.t),t.t=null;this.l.length?t=u(t,this,j):this.h=l}}},w=t=>({__proto__:_,u:t,h:t,l:[],o:[]}),c=(t,e)=>{let n={i:new Set,_:new Set},r={f:t},o=l;l=[];let s=h(t,n,e);s=(s??document).nodeType?s:new Text(s);for(let t of n.i)n._.has(t)||(d(t),t.l.push(r));for(let t of l)t.t=s;return l=o,r.t=s},g=(t,e=w(),n)=>{let r={i:new Set,_:new Set},s={f:t,s:e};s.t=n??l?.push(s)??o,e.val=h(t,r,e.u);for(let t of r.i)r._.has(t)||(d(t),t.o.push(s));return e},S=(t,...e)=>{for(let l of e.flat(1/0)){let e=r(l??0),n=e===_?c(()=>l.val):e===i?c(l):l;null!=n&&t.append(n)}return t},v=(t,e,...l)=>{let[n,...o]=r(l[0]??0)===f?l:[{},...l],u=t?document.createElementNS(t,e):document.createElement(e);for(let[t,l]of Object.entries(n)){let n=e=>e?Object.getOwnPropertyDescriptor(e,t)??n(r(e)):null,o=e+","+t,f=s[o]??(s[o]=n(r(u))?.set??0),h=t.startsWith("on")?(e,l)=>{let n=t.slice(2);u.removeEventListener(n,l),u.addEventListener(n,e)}:f?f.bind(u):u.setAttribute.bind(u,t),a=r(l??0);t.startsWith("on")||a===i&&(l=g(l),a=_),a===_?c(()=>(h(l.val,l.h),u)):h(l)}return S(u,...o)},y=t=>({get:(e,l)=>v.bind(null,t,l)}),b=new Proxy(t=>new Proxy(v,y(t)),y()),m=(t,e)=>e?e!==t&&t.replaceWith(e):t.remove(),j=()=>{let e=[...t].filter(t=>t.u!==t.h);t=null;for(let t of new Set(e.flatMap(t=>t.l=a(t.l))))m(t.t,c(t.f,t.t)),t.t=null;for(let t of e)t.h=t.u},x={add:S,tags:b,state:w,derive:g,hydrate:(t,e)=>m(t,c(e,t))},window.van=x;}